<!DOCTYPE html>
<html lang="en">
	<head>
		<title>New post</title>
		<meta charset="utf-8">
        <link href="style.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11/dist/vue.js"></script>
	</head>

	<body class="body">
		<div class="navbar">
			<a class="navbar" href="index.html">Home</a>
			<a class="navbar" href="categories.html">Categories</a>
			<a class="navbar" href="goals.html">Goals</a>
			<button id="login" onclick="document.getElementById('id01').style.display='block'">Login</button>
			<div id="id01" class="modal">
			  <span onclick="document.getElementById('id01').style.display='none'"
				class="close" title="Close Modal">&times;</span>

			  <form class="modal-content animate" action="!!!FIX!!!">
			    <div class="container">
			      <label id="logtext"><b>Username</b></label>
			      <input type="text" name="uname" required>

			      <label id="logtext"><b>Password</b></label>
			      <input type="password" name="psw" required>

			      <button id="loginfr" type="submit">Login</button>
			    </div>
			  </form>
			</div>
			<script>
				// Get the modal
				var modal = document.getElementById('id01');

				// When the user clicks anywhere outside of the modal, close it
				window.onclick = function(event) {
				 if (event.target == modal) {
					 modal.style.display = "none";
				 }
				}
		</script>
	</div>

		<div  id="blog">
				<div id="selector">
					Type of entry
					<!-- This vue @click method triggers each click, it isn't optimal due to
				people using keyboard to select aswell. Only works for mouse -->
					<select>
						<option value="default"  @click="change">
							Choose one
						</option>
						<option value="album"  @click="change">
							Album
						</option>
						<option value="book"  @click="change">
							Book
						</option>
						<option value="movie"  @click="change">
							Movie
						</option>
						<option value="vgame"  @click="change">
							Video game
						</option>
						<option value="blog"  @click="change">
							Blog post
						</option>
					</select>
				</div>
				<div id="choiceBlock">
				</div>
		</div>

		<!-- Using Vue to bring up certain textboxes for different entry options -->
		<script>
			var app = new Vue({
				el: '#blog',

				data: {
					options: {default: 0, album: 1, book: 2, movie: 3, vgame: 4, blog: 5},
					selected: 0,
				},
				methods: {
					change: function(select) {
						var choiceBlock = document.getElementById("choiceBlock")
						try {
							var test = document.getElementById("choiceBlock").lastElementChild
							test.parentNode.removeChild(test);
						}
						catch(TypeError) {
						}

						// Blog post template
						var entryBlock = document.createElement("div");
						entryBlock.setAttribute("id", "entryBlock");

						var nameText = document.createElement("p");
						nameText.setAttribute("class", "entryHeader");
						entryBlock.appendChild(nameText);

						var NameInput = document.createElement("input");
						NameInput.setAttribute("type", "text");
						NameInput.setAttribute("class", "inputBox");
						entryBlock.appendChild(NameInput);

						var break1 = document.createElement("br");
						entryBlock.appendChild(break1);

						var createdText = document.createElement("p");
						createdText.setAttribute("class", "entryHeader");
						entryBlock.appendChild(createdText);

						var createdInput = document.createElement("input");
						createdInput.setAttribute("type", "text");
						createdInput.setAttribute("class", "inputBox");
						entryBlock.appendChild(createdInput);

						var break2 = document.createElement("br");
						entryBlock.appendChild(break2);

						var tArea = document.createElement("textarea");
						tArea.setAttribute("class", "tArea");
						entryBlock.appendChild(tArea);

						// Finds the value of the option selected
						let option = select.currentTarget;
						this.selected = this.options[String(option.getAttribute("value"))];

						switch (this.selected) {
							case 1: // album
								nameText.textContent = "Album name";
								createdText.textContent = "Artist/band";

								// var favoritesText = document.createElement("p");
								// favoritesText.setAttribute("class", "entryHeader");
								// favoritesText.textContent = "Favorite song\(s\)?";
								// // albumBlock.appendChild(favoritesText);

								choiceBlock.appendChild(entryBlock);
								break;
							case 2: // book
								nameText.textContent = "Book name";
								createdText.textContent = "Author";

								choiceBlock.appendChild(entryBlock);
								break;
							case 3: // movie
								nameText.textContent = "Movie name";
								createdText.textContent = "Director";

								choiceBlock.appendChild(entryBlock);
								break;
							case 4: // vgame
								nameText.textContent = "Game name";
								createdText.textContent = "Created by";

								choiceBlock.appendChild(entryBlock);
								break;
							case 5: // blog
								console.log("blog")
								break;
							default:
								console.log("default")
						}
					}
				},

				computed: {

				},

				created(){
				}
			});
		</script>
	</body>
</html>
